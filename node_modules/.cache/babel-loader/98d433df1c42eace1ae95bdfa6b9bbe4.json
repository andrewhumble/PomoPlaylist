{"ast":null,"code":"import _slicedToArray from\"/Users/andrewhumble/Documents/GitHub/pomoplaylist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var CountDownTimer=function CountDownTimer(_ref){var hoursMinSecs=_ref.hoursMinSecs,values=_ref.values,pause=_ref.pause,play=_ref.play,incrementSessionCount=_ref.incrementSessionCount,setStep=_ref.setStep;var _hoursMinSecs$hours=hoursMinSecs.hours,hours=_hoursMinSecs$hours===void 0?0:_hoursMinSecs$hours,_hoursMinSecs$minutes=hoursMinSecs.minutes,minutes=_hoursMinSecs$minutes===void 0?0:_hoursMinSecs$minutes,_hoursMinSecs$seconds=hoursMinSecs.seconds,seconds=_hoursMinSecs$seconds===void 0?0:_hoursMinSecs$seconds;var _React$useState=React.useState([hours,minutes,seconds]),_React$useState2=_slicedToArray(_React$useState,2),_React$useState2$=_slicedToArray(_React$useState2[0],3),hrs=_React$useState2$[0],mins=_React$useState2$[1],secs=_React$useState2$[2],setTime=_React$useState2[1];var tick=function tick(){if(parseInt(hrs)===0&&parseInt(mins)===0&&parseInt(secs)===0){if(values.playing===true){console.log(values);if(values.sessions%3===0&&values.sessions!==0){pause(values.choiceId);setStep(6);}else{pause(values.choiceId);setStep(5);}}else if(values.playing===false){incrementSessionCount();play(values.choiceId);setStep(4);}}else if(mins===0&&secs===0){setTime([hrs-1,59,59]);}else if(secs===0){setTime([hrs,mins-1,59]);}else{setTime([hrs,mins,secs-1]);}};//const reset = () =>\n//  setTime([parseInt(hours), parseInt(minutes), parseInt(seconds)]);\nReact.useEffect(function(){var timerId=setInterval(function(){return tick();},1000);return function(){return clearInterval(timerId);};});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(hrs.toString().padStart(2,\"0\"),\":\").concat(mins.toString().padStart(2,\"0\"),\":\").concat(secs.toString().padStart(2,\"0\"))})});};export default CountDownTimer;","map":{"version":3,"sources":["/Users/andrewhumble/Documents/GitHub/pomoplaylist/src/components/CountDownTimer.js"],"names":["React","CountDownTimer","hoursMinSecs","values","pause","play","incrementSessionCount","setStep","hours","minutes","seconds","useState","hrs","mins","secs","setTime","tick","parseInt","playing","console","log","sessions","choiceId","useEffect","timerId","setInterval","clearInterval","toString","padStart"],"mappings":"uIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAA2E,IAAxEC,CAAAA,YAAwE,MAAxEA,YAAwE,CAA1DC,MAA0D,MAA1DA,MAA0D,CAAlDC,KAAkD,MAAlDA,KAAkD,CAA3CC,IAA2C,MAA3CA,IAA2C,CAArCC,qBAAqC,MAArCA,qBAAqC,CAAdC,OAAc,MAAdA,OAAc,CAChG,wBAAgDL,YAAhD,CAAQM,KAAR,CAAQA,KAAR,8BAAgB,CAAhB,2CAAgDN,YAAhD,CAAmBO,OAAnB,CAAmBA,OAAnB,gCAA6B,CAA7B,6CAAgDP,YAAhD,CAAgCQ,OAAhC,CAAgCA,OAAhC,gCAA0C,CAA1C,uBACA,oBAAqCV,KAAK,CAACW,QAAN,CAAe,CAClDH,KADkD,CAElDC,OAFkD,CAGlDC,OAHkD,CAAf,CAArC,4GAAQE,GAAR,sBAAaC,IAAb,sBAAmBC,IAAnB,sBAA0BC,OAA1B,qBAMA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAIC,QAAQ,CAACL,GAAD,CAAR,GAAkB,CAAlB,EAAuBK,QAAQ,CAACJ,IAAD,CAAR,GAAmB,CAA1C,EAA+CI,QAAQ,CAACH,IAAD,CAAR,GAAmB,CAAtE,CAAyE,CACvE,GAAIX,MAAM,CAACe,OAAP,GAAmB,IAAvB,CAA6B,CAC3BC,OAAO,CAACC,GAAR,CAAYjB,MAAZ,EACA,GAAIA,MAAM,CAACkB,QAAP,CAAkB,CAAlB,GAAwB,CAAxB,EAA6BlB,MAAM,CAACkB,QAAP,GAAoB,CAArD,CAAwD,CACtDjB,KAAK,CAACD,MAAM,CAACmB,QAAR,CAAL,CACAf,OAAO,CAAC,CAAD,CAAP,CACD,CAHD,IAGO,CACLH,KAAK,CAACD,MAAM,CAACmB,QAAR,CAAL,CACAf,OAAO,CAAC,CAAD,CAAP,CACD,CACF,CATD,IASO,IAAIJ,MAAM,CAACe,OAAP,GAAmB,KAAvB,CAA8B,CACnCZ,qBAAqB,GACrBD,IAAI,CAACF,MAAM,CAACmB,QAAR,CAAJ,CACAf,OAAO,CAAC,CAAD,CAAP,CACD,CACF,CAfD,IAgBK,IAAIM,IAAI,GAAK,CAAT,EAAcC,IAAI,GAAK,CAA3B,CAA8B,CACjCC,OAAO,CAAC,CAACH,GAAG,CAAG,CAAP,CAAU,EAAV,CAAc,EAAd,CAAD,CAAP,CACD,CAFI,IAEE,IAAIE,IAAI,GAAK,CAAb,CAAgB,CACrBC,OAAO,CAAC,CAACH,GAAD,CAAMC,IAAI,CAAG,CAAb,CAAgB,EAAhB,CAAD,CAAP,CACD,CAFM,IAEA,CACLE,OAAO,CAAC,CAACH,GAAD,CAAMC,IAAN,CAAYC,IAAI,CAAG,CAAnB,CAAD,CAAP,CACD,CACF,CAxBD,CA0BA;AACA;AAEAd,KAAK,CAACuB,SAAN,CAAgB,UAAM,CACpB,GAAMC,CAAAA,OAAO,CAAGC,WAAW,CAAC,iBAAMT,CAAAA,IAAI,EAAV,EAAD,CAAe,IAAf,CAA3B,CACA,MAAO,kBAAMU,CAAAA,aAAa,CAACF,OAAD,CAAnB,EAAP,CACD,CAHD,EAKA,mBACE,kCACE,6BAAOZ,GAAG,CAACe,QAAJ,GAAeC,QAAf,CAAwB,CAAxB,CAA2B,GAA3B,CAAP,aAA0Cf,IAAI,CAC3Cc,QADuC,GAEvCC,QAFuC,CAE9B,CAF8B,CAE3B,GAF2B,CAA1C,aAEuBd,IAAI,CAACa,QAAL,GAAgBC,QAAhB,CAAyB,CAAzB,CAA4B,GAA5B,CAFvB,GADF,EADF,CAOD,CAjDD,CAmDA,cAAe3B,CAAAA,cAAf","sourcesContent":["import React from \"react\";\n\nconst CountDownTimer = ({ hoursMinSecs, values, pause, play, incrementSessionCount, setStep }) => {\n  const { hours = 0, minutes = 0, seconds = 0 } = hoursMinSecs;\n  const [[hrs, mins, secs], setTime] = React.useState([\n    hours,\n    minutes,\n    seconds,\n  ]);\n\n  const tick = () => {\n    if (parseInt(hrs) === 0 && parseInt(mins) === 0 && parseInt(secs) === 0) {\n      if (values.playing === true) {\n        console.log(values);\n        if (values.sessions % 3 === 0 && values.sessions !== 0) {\n          pause(values.choiceId);\n          setStep(6);\n        } else {\n          pause(values.choiceId);\n          setStep(5);\n        }\n      } else if (values.playing === false) {\n        incrementSessionCount();\n        play(values.choiceId);\n        setStep(4);\n      }\n    }\n    else if (mins === 0 && secs === 0) {\n      setTime([hrs - 1, 59, 59]);\n    } else if (secs === 0) {\n      setTime([hrs, mins - 1, 59]);\n    } else {\n      setTime([hrs, mins, secs - 1]);\n    }\n  };\n\n  //const reset = () =>\n  //  setTime([parseInt(hours), parseInt(minutes), parseInt(seconds)]);\n\n  React.useEffect(() => {\n    const timerId = setInterval(() => tick(), 1000);\n    return () => clearInterval(timerId);\n  });\n\n  return (\n    <div>\n      <p>{`${hrs.toString().padStart(2, \"0\")}:${mins\n        .toString()\n        .padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`}</p>\n    </div>\n  );\n};\n\nexport default CountDownTimer;\n"]},"metadata":{},"sourceType":"module"}