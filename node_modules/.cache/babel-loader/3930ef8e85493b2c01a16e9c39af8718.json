{"ast":null,"code":"import _slicedToArray from\"/Users/andrewhumble/Documents/GitHub/pomoplaylist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{SpotifyApiContext}from\"react-spotify-api\";import Cookies from\"js-cookie\";import{SpotifyAuth,Scopes}from\"react-spotify-auth\";import\"react-spotify-auth/dist/index.css\";import{Button,Grid,Box,Typography}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Authentication=function Authentication(_ref){var nextStep=_ref.nextStep,values=_ref.values,handleToken=_ref.handleToken,getUserPlaylists=_ref.getUserPlaylists;var _React$useState=React.useState(Cookies.get(\"spotifyAuthToken\")),_React$useState2=_slicedToArray(_React$useState,2),token=_React$useState2[0],setToken=_React$useState2[1];var Login=function Login(e){console.log(e);handleToken({token:token});getUserPlaylists({token:token});nextStep();};var Logout=function Logout(){setToken(null);//const { step } = this.state;\n//this.setState({ step: step });\n};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"authentication\",style:{position:\"absolute\",left:\"50%\",top:\"40%\",transform:\"translate(-50%, -50%)\",padding:\"100\"},children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Box,{mb:4,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:6,justifyContent:\"center\",children:/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",align:\"center\",style:{fontFamily:\"Helvetica\",fontWeight:\"bold\",fontSize:\"30px\",color:\"#1DB954\"},children:\"welcome to pomoplaylist\"})})}),/*#__PURE__*/_jsx(Box,{children:token?/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{component:\"h6\",variant:\"h6\",align:\"center\",style:{fontFamily:\"Helvetica\",fontWeight:\"\",fontSize:\"20px\",color:\"black\"},children:\"logged in as\"}),/*#__PURE__*/_jsx(SpotifyApiContext.Provider,{value:token,children:Login({token:token})}),/*#__PURE__*/_jsx(Box,{mt:3,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){handleToken({token:token});getUserPlaylists({token:token});nextStep();},type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",style:{backgroundColor:\"#191414\",padding:\"8px 50px\",fontSize:\"18px\",width:\"50%\"},children:\"next\"})}),/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Button,{onClick:Logout,type:\"submits\",fullWidth:true,variant:\"contained\",color:\"primary\",style:{backgroundColor:\"#191414\",padding:\"8px 50px\",fontSize:\"18px\",width:\"50%\"},children:\"logout\"})})]})})]}):/*#__PURE__*/ // Display the login page\n_jsxs(Box,{children:[/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(Typography,{component:\"h6\",variant:\"h6\",align:\"center\",style:{fontFamily:\"Helvetica\",fontWeight:\"\",fontSize:\"20px\",color:\"black\"},children:\"sign in to continue\"})}),/*#__PURE__*/_jsx(Box,{mt:2,children:/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"center\",children:/*#__PURE__*/_jsx(SpotifyAuth,{redirectUri:\"https://andrewhumble.github.io/pomoplaylist\",clientID:\"4e3911e72862411b8934b3ddc35e9d93\",scopes:[Scopes.userModifyPlaybackState,Scopes.playlistReadPrivate,\"user-modify-playback-state\",\"playlist-read-private\"]// either style will work\n,onAccessToken:function onAccessToken(token){return setToken(token);}})})})]})})]})})});};export default Authentication;","map":{"version":3,"sources":["/Users/andrewhumble/Documents/GitHub/pomoplaylist/src/components/Authentication.js"],"names":["React","SpotifyApiContext","Cookies","SpotifyAuth","Scopes","Button","Grid","Box","Typography","Authentication","nextStep","values","handleToken","getUserPlaylists","useState","get","token","setToken","Login","e","console","log","Logout","position","left","top","transform","padding","fontFamily","fontWeight","fontSize","color","backgroundColor","width","userModifyPlaybackState","playlistReadPrivate"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { SpotifyApiContext } from \"react-spotify-api\";\nimport Cookies from \"js-cookie\";\n\nimport { SpotifyAuth, Scopes } from \"react-spotify-auth\";\nimport \"react-spotify-auth/dist/index.css\";\n\nimport { Button, Grid, Box, Typography } from \"@material-ui/core\";\n\nconst Authentication = ({\n  nextStep,\n  values,\n  handleToken,\n  getUserPlaylists,\n}) => {\n  var [token, setToken] = React.useState(Cookies.get(\"spotifyAuthToken\"));\n\n  const Login = (e) => {\n    console.log(e);\n    handleToken({ token });\n    getUserPlaylists({ token });\n    nextStep();\n  };\n\n  const Logout = () => {\n    setToken(null);\n    //const { step } = this.state;\n    //this.setState({ step: step });\n  };\n\n  return (\n    <div>\n      <div\n        className=\"authentication\"\n        style={{\n          position: \"absolute\",\n          left: \"50%\",\n          top: \"40%\",\n          transform: \"translate(-50%, -50%)\",\n          padding: \"100\",\n        }}\n      >\n        <Box>\n          <Box mb={4}>\n            <Grid container spacing={6} justifyContent=\"center\">\n              <Typography\n                component=\"h1\"\n                variant=\"h4\"\n                align=\"center\"\n                style={{\n                  fontFamily: \"Helvetica\",\n                  fontWeight: \"bold\",\n                  fontSize: \"30px\",\n                  color: \"#1DB954\",\n                }}\n              >\n                welcome to pomoplaylist\n              </Typography>\n            </Grid>\n          </Box>\n          <Box>\n            {token ? (\n              <Box>\n                <Typography\n                  component=\"h6\"\n                  variant=\"h6\"\n                  align=\"center\"\n                  style={{\n                    fontFamily: \"Helvetica\",\n                    fontWeight: \"\",\n                    fontSize: \"20px\",\n                    color: \"black\",\n                  }}\n                >\n                  logged in as\n                </Typography>\n                <SpotifyApiContext.Provider value={token}>\n                  {Login({ token })}\n                </SpotifyApiContext.Provider>\n                <Box mt={3}>\n                  <Grid container spacing={2} justifyContent=\"center\">\n                    <Grid>\n                      <Button\n                        onClick={() => {\n                          handleToken({ token });\n                          getUserPlaylists({ token });\n                          nextStep();\n                        }}\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        style={{\n                          backgroundColor: \"#191414\",\n                          padding: \"8px 50px\",\n                          fontSize: \"18px\",\n                          width: \"50%\",\n                        }}\n                      >\n                        next\n                      </Button>\n                    </Grid>\n                    <Grid>\n                      <Button\n                        onClick={Logout}\n                        type=\"submits\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        style={{\n                          backgroundColor: \"#191414\",\n                          padding: \"8px 50px\",\n                          fontSize: \"18px\",\n                          width: \"50%\",\n                        }}\n                      >\n                        logout\n                      </Button>\n                    </Grid>\n                  </Grid>\n                </Box>\n              </Box>\n            ) : (\n              // Display the login page\n              <Box>\n                <Box mt={2}>\n                  <Typography\n                    component=\"h6\"\n                    variant=\"h6\"\n                    align=\"center\"\n                    style={{\n                      fontFamily: \"Helvetica\",\n                      fontWeight: \"\",\n                      fontSize: \"20px\",\n                      color: \"black\",\n                    }}\n                  >\n                    sign in to continue\n                  </Typography>\n                </Box>\n                <Box mt={2}>\n                  <Grid container justifyContent=\"center\">\n                    <SpotifyAuth\n                      redirectUri=\"https://andrewhumble.github.io/pomoplaylist\"\n                      clientID=\"4e3911e72862411b8934b3ddc35e9d93\"\n                      scopes={[\n                        Scopes.userModifyPlaybackState,\n                        Scopes.playlistReadPrivate,\n                        \"user-modify-playback-state\",\n                        \"playlist-read-private\",\n                      ]} // either style will work\n                      onAccessToken={(token) => setToken(token)}\n                    />\n                  </Grid>\n                </Box>\n              </Box>\n            )}\n          </Box>\n        </Box>\n      </div>\n    </div>\n  );\n};\n\nexport default Authentication;\n"]},"metadata":{},"sourceType":"module"}